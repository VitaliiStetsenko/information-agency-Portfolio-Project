{% extends "layouts/base_sections.html" %}

{% block content %}
<div class="container py-5" style="margin-top: 90px;">

    <h1 class="fw-bold text-dark mb-4">{{ newspaper.title }}</h1>

    <p class="mb-2">
        <strong class="text-primary">Published:</strong>
        {{ newspaper.published|date:"F j, Y" }}
    </p>

    {% if newspaper.topics.exists %}
    <p class="mb-3">
        <strong class="text-primary">Topics:</strong>
        {% for topic in newspaper.topics.all %}
        <a href="{% url 'newspaper:topic-detail' topic.id %}"
           class="badge bg-info text-dark me-2 px-3 py-2 rounded-pill text-decoration-none">
           {{ topic.name }}
        </a>
        {% endfor %}
    </p>
    {% endif %}

    {% if newspaper.publishers.exists %}
    <p class="mb-3">
        <strong class="text-primary">Redactors:</strong>
        {% for redactor in newspaper.publishers.all %}
        <a href="{% url 'newspaper:redactor-detail' redactor.id %}"
           class="badge bg-secondary me-2 px-3 py-2 rounded-pill text-decoration-none">
           {{ redactor.first_name }} {{ redactor.last_name }}
        </a>
        {% endfor %}
    </p>
    {% endif %}

    <hr class="my-4">

    <h4 class="fw-bold text-dark mb-3">Content:</h4>
    <div class="bg-light p-4 rounded-3 shadow-sm fs-5">
        {{ newspaper.content }}
    </div>

    <div class="d-flex gap-3 mt-4">
        <a href="{% url 'newspaper:newspaper-list' %}" class="btn btn-outline-dark px-4 rounded-pill">
            Back
        </a>
      {% if user in newspaper.publishers.all %}
         <a href="{% url 'newspaper:newspaper-update' newspaper.id %}"
           class="btn btn-primary px-4 rounded-pill">
            Edit
        </a>
      {% endif %}
    </div>

</div>
{% endblock %}
