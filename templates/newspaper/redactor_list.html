{% extends "layouts/base_sections.html" %}

{% block content %}
<div class="container" style="margin-top: 110px;">

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="fw-bold text-dark">Redactors</h1>
        <a href="{% url 'newspaper:redactor-create' %}" class="btn btn-success rounded-pill px-4 py-2 fw-semibold shadow-sm">
            + ADD REDACTOR
        </a>
    </div>

     <form method="get" class="d-flex gap-3 mb-4">
        <input
            type="text"
            name="username"
            value="{{ request.GET.username }}"
            class="form-control rounded-pill px-3 search-input"
            placeholder="Search Redactor by username"
        >
        <button class="btn btn-secondary rounded-pill px-4 fw-semibold search-btn">
            <span class="search-icon">ðŸ”Ž</span>
            <span>SEARCH</span>
        </button>

    </form>

    <div class="table-responsive shadow-sm">
        <table class="table align-middle bg-white">
            <thead class="bg-dark text-white">
                <tr>
                    <th>Username</th>
                    <th>Name</th>
                    <th>Experience</th>
                    <th class="text-center">Actions</th>
                </tr>
            </thead>

            <tbody>
                {% for redactor in redactor_list %}
                    <tr>
                        <td>
                            <a href="{% url 'newspaper:redactor-detail' redactor.id %}"
                               class="text-decoration-none text-primary fw-semibold">
                                {{ redactor.username }}
                            </a>
                        </td>
                        <td>{{ redactor.first_name }} {{ redactor.last_name }}</td>
                        <td>{{ redactor.years_of_experience }}
                          {% if redactor.years_of_experience is 1 %}
                            year
                          {% else %}
                            years
                          {% endif %}
                        </td>

                        <td class="text-center">
                            <a href="{% url 'newspaper:redactor-update' redactor.id %}"
                               class="btn btn-pink rounded-pill px-3 py-1 fw-semibold me-2">
                                EDIT
                            </a>

                            <a href="{% url 'newspaper:redactor-delete' redactor.id %}"
                               class="btn btn-danger rounded-pill px-3 py-1 fw-semibold">
                                DELETE
                            </a>
                        </td>
                    </tr>
                {% empty %}
                    <tr><td colspan="4" class="text-center text-muted py-4">No redactors found</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% include "includes/pagination.html" %}
</div>

<style>
.btn-pink { background: #e721ff; color: white; }
.btn-pink:hover { background: #b015cc; color: white; }
.search-input {
    height: 48px;
}
.search-btn {
    height: 48px;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    gap: 6px;
    padding: 0 20px;
    line-height: 1;
}
</style>

{% endblock %}
